{"version":3,"sources":["app.js","tags.js"],"names":["cita","estado","ApellidoP","ApellidoM","Nombre","Edad","Consultorio","Fecha","Hora","Expediente","PrimerVisita","Subsecuente","Embarazo","Hipertension","Diabetes","Respiratorio","EDAS","CertificadoMedico","Otros","iniciarApp","obtenerTitulo","then","titulo","consultarAPI","nombrePaciente","seleccionarFecha","seleccionarHora","seleccionarFrecuencia","seleccionarRazones","otrosTxt","citaBoton","consultaFechaHora","consultaBoton","nombrePacienteCC","certificadoBoton","Promise","resolve","document","readyState","addEventListener","resolverTitulo","h2","querySelector","textContent","value","event","target","inputFecha","inputHora","fechaConsulta","horaConsulta","querySelectorAll","forEach","radio","hipertensionCheckbox","checked","enfRespiratoriasCheckbox","embarazoCheckbox","diabetesCheckbox","EDASCheckbox","getElementById","async","urlConsultorios","resultadoConsultorios","fetch","mostrarConsultorios","json","error","console","log","consultorios","consultorioSelect","createElement","classList","add","name","consultorio","Id","option","appendChild","botonReservar","onclick","registrarCita","registrarConsulta","registrarCertificado","datos","FormData","append","url","respuesta","method","body","resultado","Swal","fire","icon","title","text","button","setTimeout","window","location","href","tagsInput","tagsDiv","tagsInputHidden","tags","mostrarTags","tag","etiqueta","ondblclick","eliminarTag","actualizarInputHidden","e","remove","filter","toString","split","keyCode","trim","preventDefault"],"mappings":"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","file":"bundle.js","sourcesContent":["const cita = {\r\n    estado: '',\r\n    ApellidoP: '',\r\n    ApellidoM: '',\r\n    Nombre: '',\r\n    Edad:'',\r\n    Consultorio: '',\r\n    Fecha:'',\r\n    Hora:'',\r\n    Expediente:'',\r\n    PrimerVisita:'',\r\n    Subsecuente:'',\r\n    Embarazo:'',\r\n    Hipertension:'',\r\n    Diabetes:'',\r\n    Respiratorio:'',\r\n    EDAS:'',\r\n    CertificadoMedico:'',\r\n    Otros:''\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded',function(){\r\n    iniciarApp();\r\n});\r\n\r\nfunction iniciarApp(){\r\n\r\nobtenerTitulo();\r\n\r\nobtenerTitulo().then((titulo) => {\r\n    if (titulo === \"Crear Cita Medica\") {\r\n        consultarAPI();\r\n        nombrePaciente();\r\n        seleccionarFecha();\r\n        seleccionarHora();\r\n        seleccionarFrecuencia();\r\n        seleccionarRazones();\r\n        otrosTxt();\r\n        citaBoton();\r\n    }else if(titulo === \"Crear Consulta Medica\"){\r\n        consultarAPI();\r\n        nombrePaciente();\r\n        consultaFechaHora();\r\n        seleccionarFrecuencia();\r\n        seleccionarRazones();\r\n        otrosTxt();\r\n        consultaBoton();\r\n    }else if(titulo === \"Consulta para Certificado Medico\"){\r\n        consultarAPI();\r\n        nombrePacienteCC();\r\n        consultaFechaHora();\r\n        otrosTxt();\r\n        certificadoBoton();\r\n    }else if(titulo === \"Ver Citas\"){\r\n        consultarAPI();\r\n    }\r\n});\r\n\r\n\r\n}\r\n\r\n\r\n//ESTA FUNCION OBTIENE EL TITULO DE LA PAGINA\r\nfunction obtenerTitulo() {\r\n    return new Promise((resolve) => {\r\n        // Esperar a que el DOM esté completamente cargado antes de ejecutar la función\r\n        if (document.readyState === \"loading\") {\r\n            document.addEventListener(\"DOMContentLoaded\", function() {\r\n                resolverTitulo(resolve);\r\n            });\r\n        } else {\r\n            resolverTitulo(resolve);\r\n        }\r\n    });\r\n}\r\n\r\nfunction resolverTitulo(resolve) {\r\n    const h2 = document.querySelector(\"h2\");\r\n    if (h2) {\r\n        resolve(h2.textContent);\r\n    } \r\n}\r\n\r\n\r\n\r\n\r\nfunction nombrePaciente(){\r\n    const Nombre = document.querySelector('#Nombre').value;\r\n    cita.Nombre = Nombre;\r\n\r\n    const ApellidoP = document.querySelector('#ApellidoP').value;\r\n    cita.ApellidoP = ApellidoP;\r\n\r\n    const ApellidoM = document.querySelector('#ApellidoM').value;\r\n    cita.ApellidoM = ApellidoM;\r\n\r\n    const Edad = document.querySelector('#Edad').value;\r\n    cita.Edad = Edad;\r\n\r\n    const Expediente = document.querySelector('#Expediente').value;\r\n    cita.Expediente = Expediente;\r\n    \r\n}\r\n\r\nfunction nombrePacienteCC(){\r\n    const Nombre = document.querySelector('#Nombre');\r\n    Nombre.addEventListener('change',(event) =>{\r\n    cita.Nombre = event.target.value;\r\n    });\r\n\r\n    const ApellidoP = document.querySelector('#ApellidoP');\r\n    ApellidoP.addEventListener('change',(event) =>{\r\n    cita.ApellidoP = event.target.value;\r\n    });\r\n\r\n    const ApellidoM = document.querySelector('#ApellidoM');\r\n    ApellidoM.addEventListener('change',(event) =>{\r\n    cita.ApellidoM = event.target.value;\r\n    });\r\n\r\n    const Edad = document.querySelector('#Edad');\r\n    Edad.addEventListener('change',(event) =>{\r\n    cita.Edad = event.target.value;\r\n    });\r\n\r\n    cita.Expediente = 'CC';\r\n\r\n    cita.CertificadoMedico = 'X';\r\n    \r\n}\r\n\r\nfunction seleccionarFecha(){\r\n    const inputFecha = document.querySelector('#fechaCita');\r\n    inputFecha.addEventListener('input',function(){\r\n        cita.Fecha = inputFecha.value;\r\n    });\r\n}\r\n\r\nfunction seleccionarHora(){\r\n    const inputHora = document.querySelector('#hora');\r\n    inputHora.addEventListener('input',function(){\r\n        cita.Hora = inputHora.value;\r\n    });\r\n}\r\n\r\nfunction consultaFechaHora(){\r\n    const fechaConsulta = document.querySelector('#fechaConsulta').value;\r\n    cita.Fecha = fechaConsulta;\r\n\r\n    const horaConsulta = document.querySelector('#horaConsulta').value;\r\n    cita.Hora = horaConsulta;\r\n}\r\n\r\nfunction seleccionarFrecuencia() {\r\n    const VisitaRadios = document.querySelectorAll('input[name=\"visita\"]');\r\n\r\n    // Añadir un evento para cada radio button\r\n    VisitaRadios.forEach(radio => {\r\n        radio.addEventListener('change', (event) => {\r\n            // Verifica cuál radio button ha sido seleccionado\r\n            \r\n            if(event.target.value === 'PrimeraVez'){\r\n                cita.PrimerVisita = 'X';\r\n                cita.Subsecuente = '';\r\n            }else{\r\n\r\n                cita.PrimerVisita = '';\r\n                cita.Subsecuente = 'X';\r\n            }\r\n        });\r\n    });\r\n}\r\n\r\nfunction seleccionarRazones(){\r\n        var hipertensionCheckbox = document.querySelector('input[name=\"hipertension\"]');\r\n        hipertensionCheckbox.addEventListener('change', actualizarValorHipertension);\r\n\r\n        function actualizarValorHipertension() {\r\n            if (hipertensionCheckbox.checked) {\r\n                cita.Hipertension = 'X'\r\n            } else {\r\n                cita.Hipertension = \"\";\r\n            }\r\n        }\r\n\r\n        var enfRespiratoriasCheckbox = document.querySelector('input[name=\"enfRespiratorias\"]');\r\n        enfRespiratoriasCheckbox.addEventListener('change', actualizarValorEnfRespiratorias);\r\n\r\n        function actualizarValorEnfRespiratorias() {\r\n            if (enfRespiratoriasCheckbox.checked) {\r\n                cita.Respiratorio = 'X';\r\n            } else {\r\n                cita.Respiratorio = '';\r\n            }\r\n        }\r\n\r\n        var embarazoCheckbox = document.querySelector('input[name=\"embarazo\"]');\r\n        embarazoCheckbox.addEventListener('change', actualizarValorEmbarazo);\r\n\r\n        function actualizarValorEmbarazo() {\r\n            if (embarazoCheckbox.checked) {\r\n                cita.Embarazo = 'X';\r\n            } else {\r\n                cita.Embarazo = '';\r\n            }\r\n        }\r\n\r\n        var diabetesCheckbox = document.querySelector('input[name=\"diabetes\"]');\r\n        diabetesCheckbox.addEventListener('change', actualizarValorDiabetes);\r\n\r\n        function actualizarValorDiabetes() {\r\n            if (diabetesCheckbox.checked) {\r\n                cita.Diabetes = 'X';\r\n            } else {\r\n                cita.Diabetes = '';\r\n            }\r\n        }\r\n\r\n        var EDASCheckbox = document.querySelector('input[name=\"EDAS\"]');\r\n        EDASCheckbox.addEventListener('change', actualizarValorEDAS);\r\n\r\n        function actualizarValorEDAS() {\r\n            if (EDASCheckbox.checked) {\r\n                cita.EDAS = 'X';\r\n            } else {\r\n                cita.EDAS = '';\r\n            }\r\n        }\r\n}\r\n\r\nfunction otrosTxt(){\r\n    // Seleccionar el input por su id\r\nconst inputOtros = document.getElementById('otros');\r\n\r\n// Opcional: Escuchar el evento 'change' para detectar cambios cuando se pierde el foco\r\ninputOtros.addEventListener('change', (event) => {\r\n    cita.Otros = event.target.value;\r\n});\r\n\r\n}\r\n\r\n\r\nasync function consultarAPI(){\r\n    try{\r\n        const urlConsultorios = '/admin/api/medicos';\r\n\r\n        const resultadoConsultorios = await fetch(urlConsultorios);\r\n\r\n        const consultorios = await resultadoConsultorios.json();\r\n\r\n        mostrarConsultorios(consultorios);\r\n    }catch(error){\r\n        console.log(error);\r\n    }\r\n}\r\n\r\nfunction mostrarConsultorios(consultorios) {\r\n    // Crea un único SELECT\r\n    const consultorioSelect = document.createElement('SELECT');\r\n    consultorioSelect.classList.add('consultorio');\r\n\r\n    consultorioSelect.name = 'Consultorio';\r\n\r\n\r\n    consultorios.forEach(consultorio => {\r\n        const { Id, Nombre } = consultorio;\r\n\r\n        // Crea una opción para cada consultorio\r\n        const option = document.createElement('OPTION');\r\n        option.value = Nombre;  // Valor asociado al consultorio\r\n        option.textContent = Nombre;  // Texto visible en el SELECT\r\n        \r\n\r\n        // Agrega la opción al SELECT\r\n        consultorioSelect.appendChild(option);\r\n    });\r\n\r\n    // Inserta el SELECT en el DOM\r\n    document.querySelector('#consultorios').appendChild(consultorioSelect);\r\n\r\n     // Inicializa el valor de cita.consultorio\r\n     cita.Consultorio = consultorioSelect.value;\r\n\r\n     // Actualiza el valor de cita.consultorio cuando cambia la selección\r\n     consultorioSelect.addEventListener('change', function () {\r\n         cita.Consultorio = consultorioSelect.value;\r\n     });\r\n}\r\n\r\nfunction citaBoton(){\r\n    //Seleccionamos el boton\r\n    const botonReservar = document.querySelector('#btnRegistrarCita');\r\n    //mandamos a llamar la funcion\r\n    botonReservar.addEventListener('click',function () {\r\n        cita.estado = 'cita';\r\n        botonReservar.onclick = registrarCita;\r\n    });\r\n    \r\n}\r\n\r\nfunction consultaBoton(){\r\n    //Seleccionamos el boton\r\n    const botonReservar = document.querySelector('#btnRegistrarConsultaMedica');\r\n    //mandamos a llamar la funcion\r\n    botonReservar.addEventListener('click',function () {\r\n        cita.estado = 'fila';\r\n        botonReservar.onclick = registrarConsulta;\r\n        \r\n    });\r\n}\r\n\r\nfunction certificadoBoton(){\r\n    //Seleccionamos el boton\r\n    const botonReservar = document.querySelector('#btnRegistrarCertificado');\r\n    //mandamos a llamar la funcion\r\n    botonReservar.addEventListener('click',function () {\r\n        cita.estado = 'fila';\r\n        botonReservar.onclick = registrarCertificado;\r\n        \r\n    });\r\n}\r\n\r\nasync function registrarCita(){\r\n\r\n    const { estado, ApellidoP, ApellidoM, Nombre, Edad, Consultorio, Fecha, Hora, Expediente, PrimerVisita, Subsecuente, Embarazo, Hipertension, Diabetes, Respiratorio, EDAS, CertificadoMedico,Otros} = cita;\r\n\r\n\r\n    \r\n    const datos = new FormData();\r\n    datos.append('estado', estado);\r\n    datos.append('ApellidoP', ApellidoP);\r\n    datos.append('ApellidoM', ApellidoM);\r\n    datos.append('Nombre', Nombre);\r\n    datos.append('Edad', Edad);\r\n    datos.append('Consultorio', Consultorio);\r\n    datos.append('Fecha', Fecha);\r\n    datos.append('Hora', Hora);\r\n    datos.append('Expediente', Expediente);\r\n    datos.append('PrimerVisita', PrimerVisita);\r\n    datos.append('Subsecuente', Subsecuente);\r\n    datos.append('Embarazo', Embarazo);\r\n    datos.append('Hipertension', Hipertension);\r\n    datos.append('Diabetes', Diabetes);\r\n    datos.append('Respiratorio', Respiratorio);\r\n    datos.append('EDAS', EDAS);\r\n    datos.append('CertificadoMedico', CertificadoMedico);\r\n    datos.append('Otros', Otros);\r\n\r\n    try{\r\n        //Peticio a la API\r\n        const url = '/admin/citas';\r\n        const respuesta = await fetch(url, {\r\n            method: 'POST',\r\n            body: datos\r\n        });\r\n\r\n        const resultado = await respuesta.json();\r\n        if(resultado.resultado){\r\n            Swal.fire({\r\n                icon: \"success\",\r\n                title: \"Cita Creada\",\r\n                text: \"Tu cita fue creada correctamente\",\r\n                button: 'OK'\r\n            }).then( () => {\r\n                setTimeout(() => {\r\n                    window.location.href = \"/admin/buscar-expediente\";\r\n                }, 1000);\r\n                \r\n            })\r\n        }\r\n    }catch(error){\r\n        Swal.fire({\r\n            icon: \"error\",\r\n            title: \"Error\",\r\n            text: \"Revisa que todos los campos esten llenos o no se pudo conectar con el servidor\"\r\n          });\r\n    }\r\n\r\n}\r\n\r\nasync function registrarConsulta(){\r\n\r\n    const { estado, ApellidoP, ApellidoM, Nombre, Edad, Consultorio, Fecha, Hora, Expediente, PrimerVisita, Subsecuente, Embarazo, Hipertension, Diabetes, Respiratorio, EDAS, CertificadoMedico,Otros} = cita;\r\n\r\n\r\n    \r\n    const datos = new FormData();\r\n    datos.append('estado', estado);\r\n    datos.append('ApellidoP', ApellidoP);\r\n    datos.append('ApellidoM', ApellidoM);\r\n    datos.append('Nombre', Nombre);\r\n    datos.append('Edad', Edad);\r\n    datos.append('Consultorio', Consultorio);\r\n    datos.append('Fecha', Fecha);\r\n    datos.append('Hora', Hora);\r\n    datos.append('Expediente', Expediente);\r\n    datos.append('PrimerVisita', PrimerVisita);\r\n    datos.append('Subsecuente', Subsecuente);\r\n    datos.append('Embarazo', Embarazo);\r\n    datos.append('Hipertension', Hipertension);\r\n    datos.append('Diabetes', Diabetes);\r\n    datos.append('Respiratorio', Respiratorio);\r\n    datos.append('EDAS', EDAS);\r\n    datos.append('CertificadoMedico', CertificadoMedico);\r\n    datos.append('Otros', Otros);\r\n\r\n    try{\r\n        //Peticio a la API\r\n        const url = '/admin/consultas';\r\n        const respuesta = await fetch(url, {\r\n            method: 'POST',\r\n            body: datos\r\n        });\r\n\r\n        const resultado = await respuesta.json();\r\n        if(resultado.resultado){\r\n            Swal.fire({\r\n                icon: \"success\",\r\n                title: \"Cita Creada\",\r\n                text: \"Tu consulta Médica fue creada correctamente\",\r\n                button: 'OK'\r\n            }).then( () => {\r\n                setTimeout(() => {\r\n                    window.location.href = \"/admin/buscar-expediente\";\r\n                }, 1000);\r\n                \r\n            })\r\n        }\r\n    }catch(error){\r\n        Swal.fire({\r\n            icon: \"error\",\r\n            title: \"Error\",\r\n            text: \"Revisa que todos los campos esten llenos o no se pudo conectar con el servidor\"\r\n          });\r\n    }\r\n\r\n}\r\n\r\nasync function registrarCertificado(){\r\n\r\n    const { estado, ApellidoP, ApellidoM, Nombre, Edad, Consultorio, Fecha, Hora, Expediente, PrimerVisita, Subsecuente, Embarazo, Hipertension, Diabetes, Respiratorio, EDAS, CertificadoMedico,Otros} = cita;\r\n\r\n\r\n    \r\n    const datos = new FormData();\r\n    datos.append('estado', estado);\r\n    datos.append('ApellidoP', ApellidoP);\r\n    datos.append('ApellidoM', ApellidoM);\r\n    datos.append('Nombre', Nombre);\r\n    datos.append('Edad', Edad);\r\n    datos.append('Consultorio', Consultorio);\r\n    datos.append('Fecha', Fecha);\r\n    datos.append('Hora', Hora);\r\n    datos.append('Expediente', Expediente);\r\n    datos.append('PrimerVisita', PrimerVisita);\r\n    datos.append('Subsecuente', Subsecuente);\r\n    datos.append('Embarazo', Embarazo);\r\n    datos.append('Hipertension', Hipertension);\r\n    datos.append('Diabetes', Diabetes);\r\n    datos.append('Respiratorio', Respiratorio);\r\n    datos.append('EDAS', EDAS);\r\n    datos.append('CertificadoMedico', CertificadoMedico);\r\n    datos.append('Otros', Otros);\r\n\r\n    try{\r\n        //Peticio a la API\r\n        const url = '/admin/consultas';\r\n        const respuesta = await fetch(url, {\r\n            method: 'POST',\r\n            body: datos\r\n        });\r\n\r\n        const resultado = await respuesta.json();\r\n        if(resultado.resultado){\r\n            Swal.fire({\r\n                icon: \"success\",\r\n                title: \"Cita Creada\",\r\n                text: \"Tu consulta Médica fue creada correctamente\",\r\n                button: 'OK'\r\n            }).then( () => {\r\n                setTimeout(() => {\r\n                    window.location.href = \"/admin/buscar-expediente\";\r\n                }, 1000);\r\n                \r\n            })\r\n        }\r\n    }catch(error){\r\n        Swal.fire({\r\n            icon: \"error\",\r\n            title: \"Error\",\r\n            text: \"Revisa que todos los campos esten llenos o no se pudo conectar con el servidor\"\r\n          });\r\n    }\r\n\r\n}\r\n\r\n","(function(){\r\n    const tagsInput = document.querySelector('#tags_input')\r\n\r\n    if(tagsInput){\r\n        const tagsDiv = document.querySelector('#tags');\r\n        const tagsInputHidden = document.querySelector('[name=\"tags\"]');\r\n \r\n        let tags = [];\r\n\r\n        //Recuperar del input oculto\r\n        if(tagsInputHidden.value !== ''){\r\n            tags = tagsInputHidden.value.split(',');\r\n            mostrarTags();\r\n        }\r\n        //Escuchar los cambios en el Input\r\n        tagsInput.addEventListener('keypress', guardarTag)\r\n\r\n        function guardarTag(e){\r\n            if(e.keyCode === 44){\r\n                if(e.target.value.trim() === '' || e.target.value < 1){\r\n                    return\r\n                }\r\n                e.preventDefault();\r\n                tags = [...tags, e.target.value.trim()]\r\n                tagsInput.value = '';\r\n\r\n                mostrarTags();\r\n            }\r\n        }\r\n\r\n        function mostrarTags(){\r\n            tagsDiv.textContent = '';\r\n            tags.forEach(tag => {\r\n                const etiqueta = document.createElement('LI');\r\n                etiqueta.classList.add('formulario__tag')\r\n                etiqueta.textContent = tag;\r\n                etiqueta.ondblclick = eliminarTag\r\n                tagsDiv.appendChild(etiqueta)\r\n            })\r\n\r\n            actualizarInputHidden();\r\n        }\r\n\r\n        function eliminarTag(e){\r\n            e.target.remove()\r\n            tags = tags.filter(tag => tag !== e.target.textContent)\r\n            actualizarInputHidden();\r\n        }\r\n\r\n        function actualizarInputHidden() {\r\n            tagsInputHidden.value = tags.toString();\r\n        }\r\n    }\r\n})()\r\n"]}