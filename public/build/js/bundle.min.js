const cita={estado:"",ApellidoP:"",ApellidoM:"",Nombre:"",Edad:"",Consultorio:"",Fecha:"",Hora:"",Expediente:"",PrimerVisita:"",Subsecuente:"",Embarazo:"",Hipertension:"",Diabetes:"",Respiratorio:"",EDAS:"",CertificadoMedico:"",Otros:""};function iniciarApp(){obtenerTitulo(),obtenerTitulo().then(e=>{"Crear Cita Medica"===e?(consultarAPI(),nombrePaciente(),seleccionarFecha(),seleccionarHora(),seleccionarFrecuencia(),seleccionarRazones(),otrosTxt(),citaBoton()):"Crear Consulta Medica"===e?(consultarAPI(),nombrePaciente(),consultaFechaHora(),seleccionarFrecuencia(),seleccionarRazones(),otrosTxt(),consultaBoton()):"Consulta para Certificado Medico"===e?(consultarAPI(),nombrePacienteCC(),consultaFechaHora(),otrosTxt(),certificadoBoton()):"Ver Citas"===e&&consultarAPI()})}function obtenerTitulo(){return new Promise(e=>{"loading"===document.readyState?document.addEventListener("DOMContentLoaded",(function(){resolverTitulo(e)})):resolverTitulo(e)})}function resolverTitulo(e){const t=document.querySelector("h2");t&&e(t.textContent)}function nombrePaciente(){const e=document.querySelector("#Nombre").value;cita.Nombre=e;const t=document.querySelector("#ApellidoP").value;cita.ApellidoP=t;const o=document.querySelector("#ApellidoM").value;cita.ApellidoM=o;const a=document.querySelector("#Edad").value;cita.Edad=a;const n=document.querySelector("#Expediente").value;cita.Expediente=n}function nombrePacienteCC(){document.querySelector("#Nombre").addEventListener("change",e=>{cita.Nombre=e.target.value});document.querySelector("#ApellidoP").addEventListener("change",e=>{cita.ApellidoP=e.target.value});document.querySelector("#ApellidoM").addEventListener("change",e=>{cita.ApellidoM=e.target.value});document.querySelector("#Edad").addEventListener("change",e=>{cita.Edad=e.target.value}),cita.Expediente="CC",cita.CertificadoMedico="X"}function seleccionarFecha(){const e=document.querySelector("#fechaCita");e.addEventListener("input",(function(){cita.Fecha=e.value}))}function seleccionarHora(){const e=document.querySelector("#hora");e.addEventListener("input",(function(){cita.Hora=e.value}))}function consultaFechaHora(){const e=document.querySelector("#fechaConsulta").value;cita.Fecha=e;const t=document.querySelector("#horaConsulta").value;cita.Hora=t}function seleccionarFrecuencia(){document.querySelectorAll('input[name="visita"]').forEach(e=>{e.addEventListener("change",e=>{"PrimeraVez"===e.target.value?(cita.PrimerVisita="X",cita.Subsecuente=""):(cita.PrimerVisita="",cita.Subsecuente="X")})})}function seleccionarRazones(){var e=document.querySelector('input[name="hipertension"]');e.addEventListener("change",(function(){e.checked?cita.Hipertension="X":cita.Hipertension=""}));var t=document.querySelector('input[name="enfRespiratorias"]');t.addEventListener("change",(function(){t.checked?cita.Respiratorio="X":cita.Respiratorio=""}));var o=document.querySelector('input[name="embarazo"]');o.addEventListener("change",(function(){o.checked?cita.Embarazo="X":cita.Embarazo=""}));var a=document.querySelector('input[name="diabetes"]');a.addEventListener("change",(function(){a.checked?cita.Diabetes="X":cita.Diabetes=""}));var n=document.querySelector('input[name="EDAS"]');n.addEventListener("change",(function(){n.checked?cita.EDAS="X":cita.EDAS=""}))}function otrosTxt(){document.getElementById("otros").addEventListener("change",e=>{cita.Otros=e.target.value})}async function consultarAPI(){try{const e="/admin/api/medicos",t=await fetch(e);mostrarConsultorios(await t.json())}catch(e){console.log(e)}}function mostrarConsultorios(e){const t=document.createElement("SELECT");t.classList.add("consultorio"),t.name="Consultorio",e.forEach(e=>{const{Id:o,Nombre:a}=e,n=document.createElement("OPTION");n.value=a,n.textContent=a,t.appendChild(n)}),document.querySelector("#consultorios").appendChild(t),cita.Consultorio=t.value,t.addEventListener("change",(function(){cita.Consultorio=t.value}))}function citaBoton(){const e=document.querySelector("#btnRegistrarCita");e.addEventListener("click",(function(){cita.estado="cita",e.onclick=registrarCita}))}function consultaBoton(){const e=document.querySelector("#btnRegistrarConsultaMedica");e.addEventListener("click",(function(){cita.estado="fila",e.onclick=registrarConsulta}))}function certificadoBoton(){const e=document.querySelector("#btnRegistrarCertificado");e.addEventListener("click",(function(){cita.estado="fila",e.onclick=registrarCertificado}))}async function registrarCita(){const{estado:e,ApellidoP:t,ApellidoM:o,Nombre:a,Edad:n,Consultorio:i,Fecha:c,Hora:r,Expediente:d,PrimerVisita:s,Subsecuente:u,Embarazo:l,Hipertension:p,Diabetes:m,Respiratorio:f,EDAS:E,CertificadoMedico:C,Otros:b}=cita,v=new FormData;v.append("estado",e),v.append("ApellidoP",t),v.append("ApellidoM",o),v.append("Nombre",a),v.append("Edad",n),v.append("Consultorio",i),v.append("Fecha",c),v.append("Hora",r),v.append("Expediente",d),v.append("PrimerVisita",s),v.append("Subsecuente",u),v.append("Embarazo",l),v.append("Hipertension",p),v.append("Diabetes",m),v.append("Respiratorio",f),v.append("EDAS",E),v.append("CertificadoMedico",C),v.append("Otros",b);try{const e="/admin/citas",t=await fetch(e,{method:"POST",body:v});(await t.json()).resultado&&Swal.fire({icon:"success",title:"Cita Creada",text:"Tu cita fue creada correctamente",button:"OK"}).then(()=>{setTimeout(()=>{window.location.href="/admin/buscar-expediente"},1e3)})}catch(e){Swal.fire({icon:"error",title:"Error",text:"Revisa que todos los campos esten llenos o no se pudo conectar con el servidor"})}}async function registrarConsulta(){const{estado:e,ApellidoP:t,ApellidoM:o,Nombre:a,Edad:n,Consultorio:i,Fecha:c,Hora:r,Expediente:d,PrimerVisita:s,Subsecuente:u,Embarazo:l,Hipertension:p,Diabetes:m,Respiratorio:f,EDAS:E,CertificadoMedico:C,Otros:b}=cita,v=new FormData;v.append("estado",e),v.append("ApellidoP",t),v.append("ApellidoM",o),v.append("Nombre",a),v.append("Edad",n),v.append("Consultorio",i),v.append("Fecha",c),v.append("Hora",r),v.append("Expediente",d),v.append("PrimerVisita",s),v.append("Subsecuente",u),v.append("Embarazo",l),v.append("Hipertension",p),v.append("Diabetes",m),v.append("Respiratorio",f),v.append("EDAS",E),v.append("CertificadoMedico",C),v.append("Otros",b);try{const e="/admin/consultas",t=await fetch(e,{method:"POST",body:v});(await t.json()).resultado&&Swal.fire({icon:"success",title:"Cita Creada",text:"Tu consulta Médica fue creada correctamente",button:"OK"}).then(()=>{setTimeout(()=>{window.location.href="/admin/buscar-expediente"},1e3)})}catch(e){Swal.fire({icon:"error",title:"Error",text:"Revisa que todos los campos esten llenos o no se pudo conectar con el servidor"})}}async function registrarCertificado(){const{estado:e,ApellidoP:t,ApellidoM:o,Nombre:a,Edad:n,Consultorio:i,Fecha:c,Hora:r,Expediente:d,PrimerVisita:s,Subsecuente:u,Embarazo:l,Hipertension:p,Diabetes:m,Respiratorio:f,EDAS:E,CertificadoMedico:C,Otros:b}=cita,v=new FormData;v.append("estado",e),v.append("ApellidoP",t),v.append("ApellidoM",o),v.append("Nombre",a),v.append("Edad",n),v.append("Consultorio",i),v.append("Fecha",c),v.append("Hora",r),v.append("Expediente",d),v.append("PrimerVisita",s),v.append("Subsecuente",u),v.append("Embarazo",l),v.append("Hipertension",p),v.append("Diabetes",m),v.append("Respiratorio",f),v.append("EDAS",E),v.append("CertificadoMedico",C),v.append("Otros",b);try{const e="/admin/consultas",t=await fetch(e,{method:"POST",body:v});(await t.json()).resultado&&Swal.fire({icon:"success",title:"Cita Creada",text:"Tu consulta Médica fue creada correctamente",button:"OK"}).then(()=>{setTimeout(()=>{window.location.href="/admin/buscar-expediente"},1e3)})}catch(e){Swal.fire({icon:"error",title:"Error",text:"Revisa que todos los campos esten llenos o no se pudo conectar con el servidor"})}}document.addEventListener("DOMContentLoaded",(function(){iniciarApp()})),function(){const e=document.querySelector("#tags_input");if(e){const n=document.querySelector("#tags"),i=document.querySelector('[name="tags"]');let c=[];function t(){n.textContent="",c.forEach(e=>{const t=document.createElement("LI");t.classList.add("formulario__tag"),t.textContent=e,t.ondblclick=o,n.appendChild(t)}),a()}function o(e){e.target.remove(),c=c.filter(t=>t!==e.target.textContent),a()}function a(){i.value=c.toString()}""!==i.value&&(c=i.value.split(","),t()),e.addEventListener("keypress",(function(o){if(44===o.keyCode){if(""===o.target.value.trim()||o.target.value<1)return;o.preventDefault(),c=[...c,o.target.value.trim()],e.value="",t()}}))}}();
//# sourceMappingURL=bundle.js.map
